<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Refresh page every 3 seconds if task is not finished -->
    <meta th:if="${not currentTask.isFinished}" http-equiv="refresh" content="3">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #343a40;
            color: #f8f9fa;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .center-div {
            text-align: center;
            border: 1px solid #f8f9fa;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 10px rgba(0,0,0,0.5); }
            50% { box-shadow: 0 0 20px rgba(0,0,0,1), 0 0 30px rgba(0,0,0,1); }
            100% { box-shadow: 0 0 10px rgba(0,0,0,0.5); }
        }
    </style>

    <title>Task Progress Page</title>
  </head>
  <body>
    <div class="center-div" th:if="${not currentTask.isFinished}">
      <h1>Task is still in progress</h1>
      <!-- Display TaskModel properties -->
      <p class="text-muted" th:text="'ID: ' + ${currentTask.id}"></p>
      <p class="text-muted" th:text="'Type: ' + ${currentTask.type}"></p>
    </div>

    <div class="center-div" th:if="${currentTask.isFinished and currentTask.gotError}">
        <h2 class="text-danger">An error has occurred!</h2>
        <a href="/" class="btn btn-primary">Go to Main Page</a>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>